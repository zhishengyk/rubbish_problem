## 问题198 题解

### 题目分析

本题要求在一个包含障碍物（`#`）和空地（`.`）的 $R \times C$ 网格中，找出可以容纳 $K$ 个队员排成一行（横向或纵向）的站位方案总数。

### 解题思路

这是一个计数问题，可以通过直接枚举所有可能的站位方式来解决。

1.  **遍历横向站位**：
    *   我们可以遍历网格中的每一个可能的横向线段起点。一个长度为 $K$ 的横向站位可以从第 $i$ 行的第 $j$ 列开始，延伸到第 $j+K-1$ 列。
    *   因此，我们遍历所有行 `r` (从 0 到 $R-1$)。
    *   对于每一行，我们遍历所有可能的起始列 `c` (从 0 到 $C-K$)。
    *   对于每个起点 `(r, c)`，我们检查从 `(r, c)` 到 `(r, c+K-1)` 这 $K$ 个格子是否全部为空地（`.`）。如果是，则找到了一个合法的横向站位，总方案数加一。

2.  **遍历纵向站位**：
    *   同理，我们可以遍历所有可能的纵向站位。一个长度为 $K$ 的纵向站位可以从第 $i$ 行的第 $j$ 列开始，延伸到第 $i+K-1$ 行。
    *   我们遍历所有列 `c` (从 0 到 $C-1$)。
    *   对于每一列，我们遍历所有可能的起始行 `r` (从 0 到 $R-K$)。
    *   对于每个起点 `(r, c)`，我们检查从 `(r, c)` 到 `(r+K-1, c)` 这 $K$ 个格子是否全部为空地。如果是，则找到了一个合法的纵向站位，总方案数加一。

3.  **对 K=1 的特殊处理**：
    *   当 $K > 1$ 时，一个站位不可能是既横向又纵向的，所以上述两种情况的计数是独立的。
    *   然而，当 $K=1$ 时，每个空地（`.`）本身既构成一个横向站位，也构成一个纵向站位。因此，每个空地会被我们的算法统计两次。
    *   所以，如果 $K=1$，我们需要将最终计算出的总方案数除以 2，以得到正确答案。

该算法通过两轮独立的循环，系统地检查了所有可能的站位，属于 **暴力枚举** 的范畴。
