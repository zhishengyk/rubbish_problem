## 问题515 题解

### 题目分析

这个问题要求我们在给定的时间 `T` 内，从原点出发，访问数轴上尽可能多的地标。这是一个路径规划问题，可以通过贪心策略来解决。

### 解题思路

为了在有限的时间内访问最多的地标，我们应该总是访问离原点最近的地标。

1.  **最优路径结构**：
    -   最优的路径必然是以下两种形式之一：
        1.  先一直向一个方向（例如负方向）前进，访问一系列地标，然后掉头，穿过原点，再向另一个方向（正方向）前进，直到时间耗尽。
        2.  先走正方向，再走负方向。
    -   为什么？因为任何来回折返的路径（例如 `0 -> A -> B -> A -> C`）都比直接走到底再返回（`0 -> B -> C`）要浪费时间。

2.  **贪心策略**：
    -   基于上述观察，我们可以枚举所有可能的“拐点”。
    -   **预处理**：
        -   将所有地标分为正半轴和负半轴两组。
        -   对正半轴的地标坐标进行升序排序。
        -   对负半轴的地标坐标的**绝对值**也进行升序排序。这保证了我们总是先访问离原点近的地标。

    -   **枚举与计算**：
        -   **情况一：先走负，再走正**
            -   我们枚举在负半轴的“终点”。假设我们决定访问负半轴上最近的 `i` 个地标。最远的一个坐标是 `-neg[i]`。
            -   到达 `-neg[i]` 的时间是 `neg[i]`。
            -   从 `-neg[i]` 返回原点，再向正半轴前进，总共消耗的时间是 `2 * neg[i]`。
            -   剩余时间为 `T - 2 * neg[i]`。用这些剩余时间，我们可以从原点出发，一直向正半轴走，访问所有坐标不大于 `T - 2 * neg[i]` 的地标。
            -   我们可以用二分查找（`upper_bound`）在排序好的正半轴坐标数组中，快速找到能访问的地标数量。
            -   总访问数 = `i` (负半轴) + (正半轴可访问数)。
        -   **情况二：先走正，再走负**
            -   逻辑与情况一完全对称。枚举在正半轴的终点，计算到达并返回所需时间，用剩余时间去访问负半轴的地标。
        -   **特殊情况**
            -   我们还需要考虑只走一个方向的情况，即不掉头。例如，用所有时间`T`只走正半轴，或只走负半轴。这其实可以被上述枚举 `i=0` 的情况所覆盖，但单独考虑可以使逻辑更清晰。

    -   **最终答案**：我们遍历所有可能的 `i`（从0到地标数），对上述两种情况都进行计算，并记录下所有可能中的最大访问数。

**算法复杂度**：
-   排序：$O(N \log N)$
-   枚举与二分查找：我们遍历 `N` 个可能的拐点，每次进行一次二分查找 `O(\log N)`，所以这部分是 $O(N \log N)$。
-   总的时间复杂度是 $O(N \log N)$。
