## 问题436 题解

### 题目分析

本题要求计算用三种不同长度的骨牌（$1 \times 1$, $1 \times 2$, $1 \times 3$）铺满一个 $1 \times n$ 的长方形的方案总数。

### 解题思路

这是一个典型的动态规划或递推问题。我们可以通过考虑最后一块铺下的骨牌来构建递推关系。

#### 1. 定义状态

设 `dp[i]` 为铺满一个 $1 \times i$ 的长方形的方案数。我们的目标是求 `dp[n]`。

#### 2. 寻找递推关系

为了计算 `dp[i]`，我们分析铺在最右端的最后一块骨牌是什么：

-   **情况1：最后一块是 $1 \times 1$ 的骨牌**
    如果我们在位置 `i` 放置了一块 $1 \times 1$ 的骨牌，那么剩下的 $1 \times (i-1)$ 的部分需要被铺满。这部分的方案数就是 `dp[i-1]`。

-   **情况2：最后一块是 $1 \times 2$ 的骨牌**
    如果我们在位置 `i-1` 和 `i` 放置了一块 $1 \times 2$ 的骨牌，那么剩下的 $1 \times (i-2)$ 的部分需要被铺满。这部分的方案数就是 `dp[i-2]`。

-   **情况3：最后一块是 $1 \times 3$ 的骨牌**
    如果我们在位置 `i-2`, `i-1` 和 `i` 放置了一块 $1 \times 3$ 的骨牌，那么剩下的 $1 \times (i-3)$ 的部分需要被铺满。这部分的方案数就是 `dp[i-3]`。

由于这三种情况互斥且包含了所有可能性，我们可以将它们的方案数相加，得到 `dp[i]` 的总方案数。

**递推方程**:
`dp[i] = dp[i-1] + dp[i-2] + dp[i-3]`

#### 3. 确定基本情况 (Base Cases)

我们需要为递推提供初始值：

-   `dp[0] = 1`：铺满 $1 \times 0$ 的方格只有一种方法，就是什么都不铺。
-   `dp[1] = 1`：铺满 $1 \times 1$ 的方格，只能用一块 $1 \times 1$ 的骨牌，一种方法。
-   `dp[2] = 2`：铺满 $1 \times 2$ 的方格，可以用两块 $1 \times 1$ 的，或者一块 $1 \times 2$ 的，两种方法。
-   `dp[3] = 4`：铺满 $1 \times 3$ 的方格，有四种方法：
    1.  `1+1+1` (三块 $1 \times 1$)
    2.  `1+2` (一块 $1 \times 1$ 和一块 $1 \times 2$)
    3.  `2+1` (一块 $1 \times 2$ 和一块 $1 \times 1$)
    4.  `3` (一块 $1 \times 3$)

我们可以验证递推公式：`dp[3] = dp[2] + dp[1] + dp[0] = 2 + 1 + 1 = 4`。公式成立。

### 算法实现

1.  创建一个大小为 `n+1` 的数组 `dp` 来存储结果。
2.  初始化 `dp[0]`, `dp[1]`, `dp[2]` 的值。
3.  使用一个循环从 `i = 3` 到 `n`，根据递推公式 `dp[i] = dp[i-1] + dp[i-2] + dp[i-3]` 计算 `dp` 数组的后续值。
4.  最终 `dp[n]` 的值就是答案。

由于 `n` 最大为50，`dp[n]` 的值可能会超过标准 `int` 的范围，需要使用 `long long` 来存储方案数。
