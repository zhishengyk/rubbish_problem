## 问题506 题解

### 题目分析

这个问题要求我们为每个学生，从所有学校中找到一个“最匹配”的，即录取分数线与学生估分成绩的差值绝对值最小。然后，我们需要计算所有学生最小差值的总和。

### 解题思路

这是一个典型的“最近邻”查找问题。对于每个学生，我们都需要在学校分数线集合中找到离他最近的数。由于学生数量和学校数量都很大，对每个学生都进行一次线性扫描是不可行的（$O(n \cdot m)$）。我们需要更高效的方法。

一个高效的策略是先对学校分数线进行排序，然后利用二分查找。

1.  **排序**：
    -   首先，我们将 `m` 所学校的录取分数线进行升序排序。这个预处理步骤的时间复杂度是 $O(m \log m)$。

2.  **为每个学生进行二分查找**：
    -   我们遍历 `n` 个学生。
    -   对于每个学生的估分 `s`，我们在排好序的学校分数线数组中寻找最接近 `s` 的值。
    -   我们可以使用 `std::lower_bound` 来找到第一个大于或等于 `s` 的学校分数线。
    -   这个分数线和它前面的那个分数线（如果存在的话）就是与 `s` 最接近的两个候选者。
    -   我们分别计算 `s` 与这两个候选者分数的差的绝对值，然后取较小的一个作为该学生的最小“不满意度”。
    -   将这个最小不满意度累加到总和中。
    -   为每个学生进行一次二分查找的时间复杂度是 $O(\log m)$。

**算法复杂度**：
-   排序学校分数线：$O(m \log m)$。
-   为 `n` 个学生查找：$n \times O(\log m) = O(n \log m)$。
-   总的时间复杂度为 $O((m+n)\log m)$，对于本题的数据范围来说是非常高效的。
