## 问题539 题解

### 题目分析

这是一个不带括号的中缀表达式求值问题，只包含加法和乘法。关键在于处理运算符的优先级（乘法优于加法），以及结果只需输出最后四位的要求。

### 解题思路

- **模运算**：由于最终结果只需输出最后4位，所有中间计算都可以在模10000的意义下进行，以避免处理高精度数。

- **两阶段计算**：
  1. **处理乘法**：首先遍历整个表达式，将所有乘法运算先计算出来。可以把表达式看作是由 `+` 号分隔的多个"项"，每个"项"内部是连乘的。
  2. **处理加法**：将第一阶段计算出的所有"项"的结果相加。

- **算法实现**：
  1. 从左到右解析表达式，将其分解为数字和运算符。
  2. 创建一个新的列表或向量，用于存储待加的项。
  3. 遍历数字和运算符。维护一个当前项 `term`。
     - 遇到 `*` 号时，将 `term` 与下一个数字相乘，并更新 `term`。
     - 遇到 `+` 号时，将当前的 `term` 添加到待加项列表中，并用下一个数字重置 `term`。
  4. 遍历结束后，将最后的 `term` 也加入列表。
  5. 将列表中的所有项相加，得到最终结果。所有计算都 `% 10000`。
