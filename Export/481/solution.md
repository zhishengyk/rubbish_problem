## 问题481 题解

### 题目分析

这个问题要求我们找出所有和为给定整数 $M$ 的连续正整数段。这是一个经典的数学和算法问题，有多种解法。

### 解题思路

#### 方法一：双指针（滑动窗口）

我们可以使用双指针来维护一个“窗口”，表示一个连续的正整数段。

1.  **初始化**：设置两个指针 `i` 和 `j`，分别表示窗口的开始和结束，初始时 `i=1, j=1`。维护一个变量 `sum` 记录窗口内数字的和，初始为1。
2.  **移动指针**：
    -   如果 `sum < M`，说明窗口内的和太小，需要扩大窗口，将 `j` 右移一位（`j++`），并更新 `sum`。
    -   如果 `sum > M`，说明窗口内的和太大，需要缩小窗口，将 `i` 右移一位（`i++`），并更新 `sum`。
    -   如果 `sum == M`，我们找到了一个解。记录下 `[i, j]`，然后为了寻找其他可能的解，我们需要继续移动指针。可以将 `i` 右移一位来寻找新的可能。

这种方法的时间复杂度是 $O(M)$，因为两个指针都最多从1走到 $M$。

#### 方法二：数学方法

设连续段的第一个数为 `i`，最后一个数为 `j`。该段的和为：
$$ \frac{(i+j)(j-i+1)}{2} = M $$
$$(i+j)(j-i+1) = 2M$$

令 `A = i+j`，`B = j-i+1`。我们知道 `A` 和 `B` 是 `2M` 的两个因子。
同时，`A-B = (i+j) - (j-i+1) = 2i-1`，这是一个奇数，说明 `A` 和 `B` 的奇偶性不同（一个奇数，一个偶数）。
并且 `A > B`。

我们可以通过遍历 `2M` 的所有因子 `B` 来求解：
1.  找到 `2M` 的一个因子 `B`。
2.  计算 `A = 2M / B`。
3.  检查是否满足 `A > B` 且 `A` 和 `B` 奇偶性不同。
4.  如果满足，我们可以解出 `i = (A-B+1)/2` 和 `j = (A+B-1)/2`。

这种方法需要分解 `2M` 的因子，效率也相当高。
