## 问题204 题解

### 题目分析

这是一个数学问题，核心是关于**模运算（取余）**。题目要求我们在一个给定的整数区间 `[L, R]` 内，找到一个数 `k`，使得它对 `n` 取模的结果 `k % n` 最大。

分糖果的过程可以被精确地描述为取模运算。无论初始拿了多少块糖 `k`，只要篮子里的糖不少于 `n` 块，就执行一次 `k = k - n` 的操作。这个过程不断重复，直到 `k < n`。这正是 `k % n` 的定义。因此，最终作为奖励的糖果数量就是 `k % n`。

我们的目标是：求 $\max_{L \le k \le R} (k \pmod n)$。

### 解题思路

1.  **理解模运算的性质**:
    *   对于任何整数 `k`，`k % n` 的结果总是在 `[0, n-1]` 这个区间内。
    *   因此，我们能得到的最大奖励理论上不会超过 `n-1`。

2.  **分析区间 `[L, R]` 的特性**:
    *   我们希望找到一个在 `[L, R]` 中的数 `k`，使得 `k % n` 尽可能地大，最好是 `n-1`。
    *   值为 `n-1` 的余数来自于形如 `q * n + (n-1)` 的数。我们需要判断这样的数是否存在于 `[L, R]` 中。

3.  **关键在于区间长度和位置**:
    *   **情况一：区间长度足够长**
        *   如果区间 `[L, R]` 的长度 `R - L` 大于等于 `n`，这意味着这个区间至少覆盖了一个完整的、由 `n` 个连续整数组成的序列（例如，`[x, x+1, ..., x+n-1]`）。
        *   对于任何一个长度为 `n` 的连续整数序列，它们对 `n` 取模的结果会恰好是 `0, 1, ..., n-1` 的一个排列。
        *   因此，如果 `R - L >= n`，区间 `[L, R]` 中必定存在一个数 `k`，使得 `k % n = n-1`。在这种情况下，最大奖励就是 `n-1`。

    *   **情况二：区间长度较短**
        *   如果区间长度 `R - L < n`，那么 `k % n` 的取值就不会覆盖所有 `0` 到 `n-1` 的可能性。
        *   在这种情况下，我们可以通过比较 `L` 和 `R` 分别落在哪个“模周期”里来判断。这个周期由 `n` 的倍数划分。
        *   我们可以计算 `L` 和 `R` 的整数商：`q_L = L / n` 和 `q_R = R / n`。
        *   **如果 `q_L == q_R`**: 这意味着 `L` 和 `R` 位于 `n` 的两个相邻倍数之间（例如，都在 `q*n` 和 `(q+1)*n - 1` 之间）。当 `k` 从 `L` 增加到 `R` 时，`k % n` 的值是严格单调递增的（从 `L%n` 到 `R%n`）。因此，能获得的最大奖励就是 `R % n`。
        *   **如果 `q_L < q_R`**: 这意味着 `L` 和 `R` 之间至少跨越了一个 `n` 的倍数（例如，`L` 在 `q*n` 之前，`R` 在 `q*n` 之后）。既然跨越了 `n` 的倍数，那么这个区间内必定存在一个数 `k`，其形式为 `q*n - 1`，它的模是 `n-1`。所以最大奖励是 `n-1`。

4.  **统一结论**:
    *   综合以上两种情况，我们可以得出一个简单的判断逻辑：
        *   如果 `L / n < R / n`，或者等价的 `R - L >= n` (但判断商更全面)，答案是 `n-1`。
        *   如果 `L / n == R / n`，答案是 `R % n`。

这个解法只需要进行几次整数除法和取模运算，时间复杂度是 O(1)。
