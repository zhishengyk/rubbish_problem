## 问题478 题解

### 题目分析

这个问题要求我们计算拦截所有导弹所需的最小系统数。每个系统有一个特点：后一发炮弹的高度不能超过前一发。

### 解题思路

这是一个经典的贪心问题，也可以用动态规划解决，并且与最长上升子序列问题有深刻的联系。

#### 贪心策略

我们可以维护一个数组 `systems`，其中 `systems[i]` 表示第 `i` 个拦截系统当前可以拦截的最高高度（即它上一发炮弹的高度）。

当一个新的导弹 `h` 到来时，我们有两种选择：

1.  **使用现有系统**：遍历所有现有的系统，寻找一个可以拦截该导弹的系统（即 `systems[i] >= h`）。为了给后面的、更高的导弹留下更多选择，我们应该选择一个最“勉强”能拦截的系统。也就是说，在所有满足 `systems[i] >= h` 的系统中，选择 `systems[i]` 最小的那一个，并将其更新为 `h`。
2.  **启用新系统**：如果所有现有系统都无法拦截该导弹（即对所有的 `i` 都有 `systems[i] < h`），那么我们必须启用一套新的系统。我们将新系统的初始高度设为 `h`。

最终，我们启用的系统总数就是答案。

#### 与最长上升子序列的联系

这个问题实际上等价于求解输入序列的“最长不下降子序列”的长度。根据Dilworth定理，一个序列的最长不下降子序列的长度等于该序列能被划分成的最少下降子序列的个数。而每一个下降子序列都可以由一套拦截系统来处理。

因此，本题的答案就是导弹高度序列的最长不下降子序列的长度。
