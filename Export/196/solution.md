## 问题196 题解

### 题目分析

这是一个优化问题，我们需要将一个 N x M 的网格涂成三色旗的样式（顶白、中蓝、底红），并且要求修改的格子数最少。

### 解题思路

1.  **三色旗结构**：
    -   合法的图案由三部分组成：顶部的白色区域、中间的蓝色区域和底部的红色区域。每个区域都至少占一行。
    -   我们可以用两个“分割线”来划分这三个区域。

2.  **枚举分割线**：
    -   我们可以枚举这两条分割线的位置。
    -   假设第一条分割线在第 `i` 行之后（即前 `i` 行为白色），第二条分割线在第 `j` 行之后（即 `i+1` 到 `j` 行为蓝色）。
    -   第一条分割线 `i` 可以在第1行到第 `N-2` 行之间。
    -   第二条分割线 `j` 可以在第 `i+1` 行到第 `N-1` 行之间。

3.  **计算修改成本**：
    -   对于一个确定的分割方案 `(i, j)`，我们可以计算出将其变为合法图案所需的最小修改次数。
    -   **预处理**：为了快速计算，我们可以预先计算出每一行如果涂成白色、蓝色或红色，分别需要修改多少个格子。然后通过前缀和来快速得到每个区域的总修改成本。

4.  **寻找最优解**：
    -   使用两层嵌套循环来枚举所有可能的分割线 `(i, j)`，计算出当前分割方案的总修改成本，并维护一个全局最小值。
