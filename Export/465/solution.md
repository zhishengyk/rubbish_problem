## 问题465 题解

### 题目分析

本题要求计算经典的**汉诺塔（Hanoi）问题**移动 $n$ 个圆盘所需的最少步数。这是一个非常著名的递归问题，其解法和结论是固定的。

### 汉诺塔递推关系与公式

设 $H_n$ 为移动 $n$ 个圆盘所需的最少步数。其移动策略如下：
1.  将 $n-1$ 个较小的圆盘从起始柱（A）移动到辅助柱（B），需要 $H_{n-1}$ 步。
2.  将第 $n$ 个（最大的）圆盘从起始柱（A）移动到目标柱（C），需要 1 步。
3.  将 $n-1$ 个较小的圆盘从辅助柱（B）移动到目标柱（C），需要 $H_{n-1}$ 步。

由此得到递推关系：$H_n = 2 \cdot H_{n-1} + 1$。
该递推关系的初始条件为 $H_1 = 1$。

通过数学归纳法或者特征方程法，可以解出该递推式的通项公式：
$H_n = 2^n - 1$

### 算法实现

由于输入 $n$ 的最大值可以达到 15000，计算结果 $2^{15000} - 1$ 将会是一个极其巨大的数字。因此，我们必须使用**高精度算法**来完成计算。

整个计算过程分为两步：
1.  **高精度计算 $2^n$**:
    -   这可以通过模拟乘法来实现。初始化一个大数（以字符串形式存储）为 "1"。
    -   然后，通过一个循环，执行 $n$ 次“乘以2”的操作。
    -   每一次乘以2，我们都需要一个**高精度乘低精度**的函数，该函数接收一个大数字符串和整数2，返回它们乘积的新字符串。

2.  **高精度计算 $(2^n) - 1$**:
    -   在得到 $2^n$ 的字符串表示后，我们需要从中减去1。这是一个**高精度减低精度**的运算。
    -   这个特定的减1操作可以被简化：
        -   找到大数字符串的最后一个字符（个位）。
        -   如果它不是 '0'，直接将该字符的ASCII码减1即可。
        -   如果它是 '0'，则需要向前**借位**。将该位变为 '9'，然后向前找到第一个非 '0' 的数字，将其减1。如果一路都是 '0'，就一直变 '9'，直到找到非 '0' 数字或到达字符串开头。例如，$1000 - 1 = 999$。
        -   需要注意处理结果可能产生的前导零（例如，$10 - 1 = 09$）。

#### 最终流程
1.  读取整数 $n$。
2.  调用高精度乘法，循环 $n$ 次，计算出 $2^n$。
3.  调用高精度减法，从上一步的结果中减去 1。
4.  输出最终结果。

这个算法结合了经典的数学公式和必要的高精度计算，是解决此类问题的标准方法。
