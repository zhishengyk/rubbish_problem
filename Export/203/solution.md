## 问题203 题解

### 题目分析

这是一个典型的二维空间模拟问题。我们需要在一个 $n \times n$ 的网格上，根据给定的“火把”和“萤石”的位置，确定哪些格子被照亮，然后统计出所有未被照亮且未被占用的格子的总数。

### 解题思路

最直观的方法是创建一个二维数组来模拟这个 $n \times n$ 的方阵，并用它来追踪每个格子的状态（是否被照亮）。

1.  **创建地图**:
    *   我们可以定义一个二维布尔数组，例如 `bool is_lit[N+1][N+1]`（使用 N+1 的大小可以方便地处理 1-based 坐标），并将其所有元素初始化为 `false`，代表整个地图最初都是黑暗的。

2.  **模拟光源照射**:
    *   **处理火把**: 遍历所有 $m$ 个火把。对于每个位于 `(x, y)` 的火把，我们根据题目给出的菱形照亮范围，将其影响范围内的所有格子的 `is_lit` 状态更新为 `true`。
        *   火把中心 `(x, y)`
        *   上下左右各一格：`(x, y±1)`, `(x±1, y)`
        *   上下左右各两格：`(x, y±2)`, `(x±2, y)`
        *   对角线：`(x±1, y±1)`
    *   **处理萤石**: 遍历所有 $k$ 个萤石。对于每个位于 `(o, p)` 的萤石，我们将其为中心的 $5 \times 5$ 正方形区域内的所有格子的 `is_lit` 状态更新为 `true`。这个区域的坐标范围是 `(i, j)` 其中 `o-2 <= i <= o+2` 且 `p-2 <= j <= p+2`。
    *   **边界检查**: 在更新格子状态时，必须进行边界检查，确保坐标 `(i, j)` 满足 `1 <= i <= n` 和 `1 <= j <= n`，防止数组越界。

3.  **标记光源本身**:
    *   光源所在的格子不能生成怪物。由于火把和萤石的照亮范围都包含其自身，所以在第二步中，光源所在的格子已经被标记为 `true`。因此，我们无需额外处理。

4.  **统计黑暗格子**:
    *   在所有光源都处理完毕后，我们遍历整个 $n \times n$ 的 `is_lit` 数组。
    *   初始化一个计数器 `monster_count = 0`。
    *   对于网格中的每一个点 `(i, j)`（从 1 到 $n$），如果 `is_lit[i][j]` 仍然是 `false`，则说明这个点是黑暗的，会生成怪物，`monster_count` 加一。

5.  **输出结果**:
    *   最终 `monster_count` 的值就是答案。

这种方法的关键在于细心和精确地实现光源的照亮逻辑，并正确处理边界。由于 $n$ 的值不大，这种 **模拟** 方法的效率是完全足够的。
